HTTPING (1) Справочник основных команд HTTPING (1)

ИМЯ
       httping - измеряет задержку и пропускную способность веб-сервера

СИНТАКСИС
       httping [опции]

       Параметры: [-g URL] [-h имя_хоста] [-p номер_порта] [-x прокси_хост:порт] [-c число] [-i интервал] [-t тайм-аут] [-s] [-G] [-b ] [-L предел_передачи] [-X] [-l] [-z] [-f] [-m] [-o ко ...] [-e строка] [-I UserAgent строка] [-R Referer строка] [-r] [-n warn,crit] [-N режим] [-q] [-V]

ОПИСАНИЕ
       Утилита httping позволяет измерять задержку веб-сервера. Начиная с версии 1.0.6 также есть возможность измерять пропускную способность.

ОПЦИИ
       -5 Выбранный прокси-сервер — это SOCKS5 сервер.

       -6 Включить режим IPv6. По умолчанию IPv4.

       -a Слышимый пинг

       -b Используйте этот переключатель вместе с '-g'. Когда эта опция используется, показывается пропускная способность (в КБ/с).

       -B Используйте этот переключатель вместе с '-g'. Просит HTTP сервер сжимать возвращаемые данные: это позволит уменьшить важность пропускной способности вашего соединения, увеличивая важность вычислительной мощности HTTP сервера.

       -c число
              Сколько проб отправить перед тем как выйти.

       -D Не рисовать графики в режиме ncurses (-К).

       -e строка Когда код ответа отличается от указанных в '-o', отображать данную строку.

       -E Получить настройки прокси-сервера из переменных окружения ('http_proxy' и 'https_proxy').

       -F Попытаться использовать TCP Fast Open подключаясь к серверу (для Linux ядра версии 3.7 и более)

       -f Флуд пинг: не сидеть сложа руки между каждым пингом, а пинговать быстро, насколько компьютер и сеть позволит вам.

       -G Делать GET запрос вместо HEAD запроса: это значит, что полная страница/файл будет передан. Обратите внимание, в данном случае вы больше не измеряете задержку!

       -g URL Устанавливает URL для проб. К примеру: http://localhost/

       -h имя_хоста
              Используя '-h' вместо '-g' можно также установить имя хоста, к примеру: -h localhost

       -I строка UserAgent строка для отправки веб-серверу (по умолчанию 'HTTPing <версия>').

       -i интервал
              Сколько секунд между отправкой каждой пробы

       -k Включить пользовательский интерфейс ncurses.

       -L x Используйте этот переключатель вместе с '-g'. Ограничивает объем передаваемых данных значением 'х'. Обратите внимание, это влияет только на содержание страницы/файла, а не на заголовки.

       -l Подключаться с помощью SSL: чтобы это работало вы должны задать 'https'-URL или номер порта 443.

       -m Показывать машиночитаемый вывод (смотрите также '-o' и '-e').

       -N x Переключает HTTPing в режим 2 Nagios плагина: возвращает 0, когда все хорошо, "х", когда что-то не так. Т.е: 1 => Nagios состояние warning, 2 => Nagios состояние critical.

       -n warn,crit
              переключает HTTPing в режим 1 Nagios плагина: возвращает код выхода '1', когда среднее время отклика больше "warn", и возвращает код выхода '2', когда время средний отклик больше "crit". Во всех остальных случаях возвращает код выхода '0'.

       -о х, х, ...
              Устанавливает HTTP-коды, которые рассматриваются как ОК-состояния (только с '-m').

       -p номер_порта
              -p может быть использован вместе с -h. -p выбирает номер_порта для пробы.

       -q Без подробностей, возвращать только код выхода.

       -R строка Referer строка для отправки на веб-сервер.

       -Q Использовать постоянное соединение, т.е. переиспользовать то же самое TCP соединение для нескольких HTTP запросов. обычно возможно когда 'Connection: Keep-Alive' отправлено сервером. добавляет 'C' в вывод если httping был вынужден переподключиться

       -r Резолвить имя хоста только раз: это убирает резолвинг из цикла, так что латентность DNS не измеряется. Также полезно когда вы хотите измерить только 1 веб-сервер, а DNS возвращает новый IP-адрес на каждом резолве ('round robin').

       -S Разделяет измеряемую задержку на время для подключения и на время обмена запросом с HTTP сервером.

       -s Когда транзакция успешна завершена, показывать HTTP код ответа (200, 404 и т.д.).

       -Т Х Читать пароль для аутентификации веб-сайта из файла 'х' (вместо ввода его в командной строке).

       -t тайм-аут
              Как долго ждать ответа с другой стороны.

       -U Включить аутентификацию для веб-сайта. Устанавливайте имя пользователя с помощью -U, пароль с помощью -Р (или используйте -Т, чтобы прочитать пароль из файла).

       -v Увеличить уровень подробностей. Покажет стандартное отклонение и даты в выводе.

       -W Не прерывать программу если резолвинг не удался.

       -X Используйте этот переключатель вместе с '-g'. Для каждого пинга показывать количество переданных данных (за исключением заголовков).

       -x прокси_хост[:порт]
              Совершать пробу с помощью прокси сервера. Обратите внимание, вы также измеряете задержку работы с прокси сервером!

       -Y Включить цвета

       -z При подключении с помощью SSL, показывать фингерпринт X509 сертификата(ов) пиров.

       --abbreviate
              Сокращать значения больше, чем тысяча, миллион, миллиард, и т.д.

       --adaptive-interval or --ai
              (Пытается) исполнять пинг на одном интервале. Например, если интервал установлен в 1.0 секунду и t[n] от пинга до пинга является 500s с длительностью 250 мс, то следующий пинг (t[n+1]) произойдет на 501 секунде, а не на 501.25 секунде. Конечно, когда длительность пинга > больше, чем интервал, пинг будет "пропущен" (не в буквальном смысле: последовательный номер продолжится) и t[n+1] будет на 502-й секунде вместо ожидаемой 501-й. Это полезно, например, в режиме вывода библиотеки, где FFT вычисляется по длительности пинга.

       --aggregates x[,y[,z[,т.д.]]]
              Показывать совокупный результат каждые x[,y[,z[,т.д.]]] секунд

       --divert-connect x
              Не обращать внимания на имя хоста в URL и вместо этого подключаться к 'х'. Данный ранее URL будет запрошен у 'х'.

       --draw-phase
              Рисовать не только величину преобразования Фурье, но также и фазу.

       --graph-limit x
              Если измеренные значения больше, чем х, то ограничить их х.

       --header х
              Добавить дополнительный заголовок запроса 'х'.

       --keep-cookies
              Когда сервер отправляет куки, оно будет отправлено назад в следующем запросе.

       --max-mtu x
              Максимальное значение MTU для использования. Не может быть больше, чем MTU сетевого интерфейса.

       --no-host-header
              Не ставить "Host:" заголовок в заголовки запроса.

       --no-tcp-nodelay
              Не отключать "задержку TCP" (Naggle).

       --priority x
              Установить приоритет пакетов.

       --tos х
              Установить тип сервиса.

       --proxy-user x
              Использовать имя пользователя 'х' для аутентификации на прокси-сервере (http/socks5) (опционально).

       --proxy-password x
              Использовать пароль 'х' для аутентификации на прокси-сервере (http/socks5) (опционально).

       --proxy-password-file x
              Читать пароль из файла 'х' для аутентификации на прокси-сервере (http/socks5) (опционально).

       --recv-buffer x
              Установить размер буфера приема (в байтах).

       --slow-log x
              Когда длительность больше или равна x, показывать строку пинга в окне медленного журнала (среднее окно)

       --threshold-red x
              Если измеренный пинг выше, чем х (и -Y установлен), то показываемое значение будет покрашено в красный. Если вы также используете --threshold-yellow, то это значение должно быть больше.

       --threshold-yellow x
              Если измеренный пинг выше, чем х (и -Y установлен), то показываемое значение будет покрашено в желтый.

       --threshold-show x
              Если измеренный пинг выше, чем х, то результат будет отображен (по умолчанию отображается всегда). Значение х в мс.

       --timestamp или --ts
              Показывать таймстамп перед строками с результатами. Используйте опцию -v, чтобы показывать также и дату.

       --tx-buffer x
              Установить размер буфера передачи (в байтах).

       -V Показать версию и выйти.

ВЫВОД
       В режиме разделения экрана (-S) вы увидите что-то вроде "время=0.08+24.09+23.17+15.64+0.02=62.98 мс". Первое значение — это время, которое потребовалось, чтобы зарезолвить имя хоста (или 'Н/Д', если оно не резолвилось на этой итерации, например, в режиме "резолвить один раз" (-r)), затем время, которое потребовалось для подключения (Или -1 в, например, постоянных соединениях (-Q, HTTP v1.1)), после этого время, которое потребовалось, чтобы произвести операцию записи, затем, то время, которое потребовалось для HTTP сервера, чтобы обработать запрос и отправить его обратно и, наконец, время, которое потребовалось, чтобы закрыть соединение.

ДИАГРАММА
       График в ncurses использует цвета для кодирования смысла. Зеленый: значение меньше, чем 1 блок. Красный: значение не укладывается в график. Синий: значение было ограничено опцией --graph-limit. Бирюзовый: нет измерения для этого момента времени.

КЛАВИШИ
       Нажмите <Ctrl> + <c>, чтобы выйти из программы. Это отобразит краткую информацию о том, что было измерено. В графическом интерфейсе ncurses, нажмите клавишу <Ctrl> + <l> для принудительной перерисовки экрана. Нажмите 'H', чтобы остановить графики (и снова, чтобы продолжить). Нажмите 'q', чтобы остановить программу (или <Ctrl> + <c>).

ПРИМЕРЫ
       httping -g http://localhost/
              Исполнить пинг к веб-серверу на хосте "localhost".

       httping -h localhost -p 1000
              Исполнить пинг к веб-серверу на хосте "localhost" с номером порта 1000.

       httping -l -g https://localhost/
              Исполнить пинг к веб-серверу на хосте "localhost" с помощью соединения SSL.

       httping -g http://localhost/ -U username -P password
              Исполнить пинг к веб-серверу на хосте "localhost", используя HTTP Basic Authentication.

БАГИ
       Нету. В этой программе полностью отсутствуют баги.

СМОТРИТЕ ТАКЖЕ
       http://www.vanheusden.com/httping/

ЗАМЕТКИ
       Эта страница описывает httping, который содержится в пакете httping-2.3; другие версии могут немного отличаться. Пожалуйста, отправляйте исправления и дополнения на mail@vanheusden.com. Сообщить об ошибках в программе можно по адресу mail@vanheusden.com. Пожалуйста, рассмотрите возможность отправки Биткоинов по адресу 1N5Sn4jny4xVwTwSYLnf7WnFQEGoVRmTQF

httping 2015-07 HTTPING (1)